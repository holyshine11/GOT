<!-- admin_list.html -->
{% extends "admin/base_site.html" %} {% load static %} {% load i18n %}

{% block content %}
<head>
{% block extrahead %}
<link rel="stylesheet" href="{% static 'css/admin_list.css' %}">
<link rel="stylesheet" href="{% static 'css/pagination.css' %}">
{% endblock %}
</head>
    
<div class="content">
    <div class="header-container">
        <h1>관리자 관리</h1>
    </div>
    <div class="header-container">
        <h2>관리자 조회</h2>
    </div>

    <!-- 검색 폼 -->
    <form method="get" action="{% url 'admin_list' %}" class="search-form">
        <input type="text" name="username" placeholder="아이디" value="{{ query_username }}">
        <input type="text" name="manager_name" placeholder="담당자명" value="{{ query_manager_name }}">
        <input type="text" name="company" placeholder="회사" value="{{ query_company }}">
        <button type="submit" class="btn btn-primary">검색</button>
        <a href="{% url 'admin_list' %}" class="btn btn-secondary">초기화</a>
    </form>

    <div class="header-container">
        <h2>관리자 목록</h2>
        <a href="{% url 'admin_create' %}" class="btn btn-secondary">{% trans '신규등록' %}</a>
    </div>
        <table class="admin-table">
            <p>총 {{ page_obj.paginator.count }}건</p>
            <thead>
                <tr>
                    <th>{% trans 'no' %}</th>
                    <th>{% trans '아이디' %}</th>
                    <th>{% trans '담당자 명' %}</th>
                    <th>{% trans '회사명' %}</th>
                    <th>{% trans '부서' %}</th>
                    <th>{% trans '직책' %}</th>
                    <th>{% trans '회사 연락처' %}</th>
                    <th>{% trans '담당자 연락처' %}</th>
                    <th>{% trans '관리자유형' %}</th>
                    <th>{% trans '수정' %}</th>
                </tr>
            </thead>
            <tbody>
                {% for admin in page_obj %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ admin.user }}</td>
                    <td>{{ admin.manager_name }}</td>
                    <td>{{ admin.company }}</td>
                    <td>{{ admin.department }}</td>
                    <td>{{ admin.position }}</td>
                    <td>{{ admin.company_contact }}</td>
                    <td>{{ admin.manager_contact }}</td>
                    <td>{{ admin.get_role_display }}</td>
                    <td>
                        <a href="{% url 'admin_detail' admin.pk %}">상세</a>
                        <a href="{% url 'admin_update' admin.pk %}">수정</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="10">{% trans '관리자가 없습니다.' %}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>


{% include 'includes/pagination.html' with extra_params="" %}
{% endblock %}
